%% Copyright (c) 2015-2020, RTE (http://www.rte-france.com)
%% See AUTHORS.txt
%% All rights reserved.
%% This Source Code Form is subject to the terms of the Mozilla Public
%% License, v. 2.0. If a copy of the MPL was not distributed with this
%% file, you can obtain one at http://mozilla.org/MPL/2.0/.
%% SPDX-License-Identifier: MPL-2.0
%%
%% This file is part of Dynawo, an hybrid C++/Modelica open source time domain simulation tool for power systems.

\documentclass[a4paper, 12pt]{report}

\input{../../../../../../nrt/documentation/latex_setup.tex}

\begin{document}

\chapter{IEEE14}

The IEEE 14-bus system is a standard test case in the power system community. It represents a simple approximation of the American Electric Power system (in the U.S. Midwest) as it was in the early 1960s. The data were provided by Iraj Dabbagchi of AEP and converted into the IEEE Common Data Format by Rich Christie at the University of Washington in August 1993.

% Generic description of the non regression test
% List of scenarios
\section{Test case description}

The IEEE 14-bus test case system has 14 buses, 5 generators (three of them being synchronous compensators used only for reactive support), 1 shunt, 3 transformers, 16 lines and 11 loads.\\
There are two voltage levels in the test case: 69 kV and 13.8 kV. The lower part of the system, with generators 1, 2 and 3, corresponds to the 69 kV network, whereas the upper part is the 13.8 kV network.

\begin{figure}[H]
  \includegraphics[width=\textwidth]{Single-line-diagram-of-IEEE-14-bus-system.png}
  \caption{IEEE 14 bus system diagram}
\end{figure}

\subsection{Initial Conditions}

The reference angle for the load flow is set at bus n°1. \\

Here are the initial conditions for each generator.

\begin{center}
\begin{tabular}{|c|c|c|c|c|}
  \hline
  Generator & P (MW) & Q (Mvar) & U (kV) & $\Theta$ (°) \\
  \hline
  1 & 232.39 & -16.55 & 73.14 & 0.00\\
  2 & 40.00 & 43.56 & 72.11 & -4.98\\
  3 & 0.00 & 25.07 & 69.69 & -12.73\\
  6 & 0.00 & 12.73 & 14.77 & -14.22\\
  8 & 0.00 & 17.62 & 15.04 & -13.36\\
  \hline
\end{tabular}
\end{center}

\subsection{Models}

\subsubsection{Synchronous Machines}

The generators are modelled using the GeneratorPVSignalN model. This model is used for the calculation of steady states after an event. All machines participate in the frequency regulation depending on their active power setpoint (although the frequency is not explicitly modelled in this model). For each generator, the active power is indeed equal to $P_{Ref} + \frac{Alpha}{alphaSum}N$, with Alpha the participation factor of the generator, $alphaSum$ the sum of all the participation factors of all the generators involved in the frequency regulation, and N a signal that is common to all the generators and that is calculated in the model DYNModelSignalN. \\
All machines regulate the voltage at their stator.

All parameters can be found in the IEEE14.par file.

\subsubsection{System reference frequency handling}

The model used for frequency handling is DYNModelSignalN. It calculates the power compensation N needed to stabilize the system at each time step. This compensation is instantaneous. N is not explicitly calculated but the angle of a selected node in the system is fixed to zero to balance the number of equations/variables. N is then automatically deduced by the solver.

\subsubsection{Loads}

After an event, the load goes back to its initial PPu/QPu with a time constant tFilter (modelled with a first order filter) unless the voltage at its terminal is lower than UMinPu or higher than UMaxPu. In this case, the load behaves as a classical Alpha-Beta load. This model is called LoadAlphaBetaRestorative.

The loads are directly connected to the grid (no transformer included).


\subsection{Scenarios}
The simulated scenario is a disconnection of line 1-5.

\subsection{Solver}
The solver used is the simplified solver SIM with hMin = 1 and hMax = 10. Because the models are simple, the solver manages to solve the problem with a time step of 10s during all the simulation and never needs to reduce it.


\newpage
\section{Results}

For each event, we focus on generator 1 's response.

At $t=1s$, the line between buses 1 and 5 is opened at its bus 5 's extremity. 75.6 W and 3.1 Mvar of active and reactive power are initially transiting on this line (from bus 1 to bus 5).\\
One can observe that the generator active power adapts to compensate the desequilibrium. The dynamics are linked to the load restoration dynamics.

\begin{figure}[H]
\subfigure[Active power (MW)]
{%
  \begin{tikzpicture}
    \begin{axis}[height = 2in]
        \addplot[color=blue!50]
        table[x=time, y=GEN____1_SM_generator_PGenPu]
        {../reference/outputs/curves/curves.csv};
    \end{axis}
  \end{tikzpicture}
}
\subfigure[Reactive power (Mvar)]
{%
  \begin{tikzpicture}
    \begin{axis}[height = 2in]
        \addplot[color=blue!50]
        table[x=time, y=GEN____1_SM_generator_QGenPu]
        {../reference/outputs/curves/curves.csv};
    \end{axis}
  \end{tikzpicture}
}
\caption{Generator 1 response to the disconnection}
\end{figure}


\end{document}
